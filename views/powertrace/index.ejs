<!DOCTYPE html>
<html>

<head>
    <title>Electricity Prices Tracking Web App</title>
</head>

<body>
    <h1>Current Hour</h1>
    <p id="price"></p>

    <script>
        import fetch from 'node-fetch';

        const PRICE_ENDPOINT = 'https://api.porssisahko.net/v1/price.json';

        const dateAndTimeNow = new Date();
        const date = dateAndTimeNow.toISOString().split('T')[0];
        const hour = dateAndTimeNow.getHours();

        const response = await fetch(`${PRICE_ENDPOINT}?date=${date}&hour=${hour}`);
        const { price } = await response.json();

        console.log(`Hinta nyt on ${price}`);
    </script>
</body>

</html>